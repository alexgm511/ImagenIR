<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Tag test</title>
<script type="text/javascript" src="_includes/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="_includes/jquery.jstree.js"></script>
<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
<link type="text/css" rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />

<style type="text/css">
.tempSpot {
	color: #333;
	display: block;
	font-family: verdana;
	font-size: 12px;
	font-weight: bold;
	position: absolute;
	white-space: nowrap;
	z-index: 200;
	background-color: red;
	background-position: 0px 0px;
	height: 25px;
	width: 130px;
	text-align: center;
}


</style>


<script type="text/javascript">
var imgWidth = 640;
var imgHeight = 480;
var pgPosX = 0;
var pgPosY = 0;
var intTempSpot = 0;
var intSpots = 0;
var postSpotsURL = "postSpots.php";

$(document).ready(function() {
	
	$('.imgDisplayTemplate .imgImage').hover(function(e) {
	}).mousemove(function(e){
		   var imgOffset = $('.imgImage img').offset();
		   window.pgPosX = Math.round(e.pageX-imgOffset.left-1);
		   window.pgPosY = Math.round(e.pageY-imgOffset.top-1);
		   if(window.pgPosX >= 0 && window.pgPosX < 640 && window.pgPosY >= 0 && window.pgPosY < 480) {
		   	$('.imgDisplay .imgAnalyze span.showTemp').html("X="+window.pgPosX+" Y="+window.pgPosY);
		   }
	}).click(function(e) {
		if(window.pgPosX >= 0 && window.pgPosX < 640 && window.pgPosY >= 0 && window.pgPosY < 480) {
			window.intSpots++;
			window.intTempSpot++;
			var tag = "<div class='tempSpot' id='temp_"+window.intTempSpot+"' style='left:"+(window.pgPosX-22)+"px; top: "+(window.pgPosY-9)+"px;'>X= "+window.pgPosX+" Y= "+window.pgPosY+" <span><img src='_images/x-close.png' width='12' height='12' alt='x' /></span></div>";
			$('.imgDisplay .imgImage').append(tag);
			$('.imgAnalyze button.TempSpotPost').css('display', 'inline-block');
		}
	}); 
	
	//close a tempSpot 
	$('.imgDisplay').on('click', '.tempSpot span', function() {
        $(this).closest('div.tempSpot').remove();
		window.intSpots--;
    });
	
	
	
});
</script>

</head>

<body>
  <div class="container">
  <div class="row">
        <div class="col-md-9 col-sm-9 col-xs-9 imgDisplay">
            <!-- Image Display div -->
            <div class="imgDisplayTemplate">
                <div class="panel panel-default">
                  <div class="panel-heading imgHead">
                    <h4 class="panel-title">Title</h4>
                  </div>
                  <div class="panel-body imgBody">
                        <div class="col-md-12 imgAnalyze">
                            <h2><span class="label label-default showTemp"></span></h2>
                            </div>
                    
					<div class="row">
                        <div class="col-md-12 imgImage"><img class="14" src="http://placehold.it/640x480" width="640" height="480"><div class="tempSpot" id="temp_1" style="left:234px; top: 121px;" data-pgposx="279" data-pgposy="139" data-temp="81.46">81.46° <span><img src="_images/x-close.png" width="12" height="12" alt="x"></span></div><div class="tempSpot" id="temp_2" style="left:145px; top: 117px;" data-pgposx="190" data-pgposy="135" data-temp="56.86">56.86° <span><img src="_images/x-close.png" width="12" height="12" alt="x"></span></div></div>
                    </div>
                                        </div>
                  </div>
                </div>
              </div>    
              <!-- End Image Display div -->
        
        </div>
    </div>

  </div>
</body>
</html>
